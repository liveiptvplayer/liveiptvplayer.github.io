/**
 * @brightcove/videojs-live-dvrux
 * @version 1.3.5
 * @copyright 2018 Brightcove
 * @license UNLICENSED
 */
!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.videojsLiveDvrux=e()}}(function(){var e;return function(){function e(t,o,r){function n(s,a){if(!o[s]){if(!t[s]){var l="function"==typeof require&&require;if(!a&&l)return l(s,!0);if(i)return i(s,!0);var d=new Error("Cannot find module '"+s+"'");throw d.code="MODULE_NOT_FOUND",d}var u=o[s]={exports:{}};t[s][0].call(u.exports,function(e){var o=t[s][1][e];return n(o||e)},u,u.exports,e,t,o,r)}return o[s].exports}for(var i="function"==typeof require&&require,s=0;s<r.length;s++)n(r[s]);return n}return e}()({1:[function(t,o,r){(function(n){/**
 * videojs-overlay
 * @version 1.1.4
 * @copyright 2017 Brightcove, Inc.
 * @license Apache-2.0
 */
!function(t){if("object"==typeof r&&void 0!==o)o.exports=t();else if("function"==typeof e&&e.amd)e([],t);else{var i;i="undefined"!=typeof window?window:void 0!==n?n:"undefined"!=typeof self?self:this,i.videojsOverlay=t()}}(function(){return function e(o,r,n){function i(a,l){if(!r[a]){if(!o[a]){var d="function"==typeof t&&t;if(!l&&d)return d(a,!0);if(s)return s(a,!0);var u=new Error("Cannot find module '"+a+"'");throw u.code="MODULE_NOT_FOUND",u}var p=r[a]={exports:{}};o[a][0].call(p.exports,function(e){var t=o[a][1][e];return i(t||e)},p,p.exports,e,o,r,n)}return r[a].exports}for(var s="function"==typeof t&&t,a=0;a<n.length;a++)i(n[a]);return i}({1:[function(e,t,o){(function(e){"undefined"!=typeof window?t.exports=window:void 0!==e?t.exports=e:"undefined"!=typeof self?t.exports=self:t.exports={}}).call(this,void 0!==n?n:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],2:[function(e,t,o){t.exports=function(e){for(var t="",o=0;o<arguments.length;o++)t+=e[o]+(arguments[o+1]||"");return t.replace(/\s+/g," ").trim()}},{}],3:[function(e,t,o){(function(r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function a(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(o,"__esModule",{value:!0});var l=function(){function e(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,o,r){return o&&e(t.prototype,o),r&&e(t,r),t}}(),d=function(e,t,o){for(var r=!0;r;){var n=e,i=t,s=o;r=!1,null===n&&(n=Function.prototype);var a=Object.getOwnPropertyDescriptor(n,i);if(void 0!==a){if("value"in a)return a.value;var l=a.get;if(void 0===l)return;return l.call(s)}var d=Object.getPrototypeOf(n);if(null===d)return;e=d,t=i,o=s,r=!0,a=d=void 0}},u=a(['\n      created, listening to "','" for "start" and\n      "','" for "end"\n    '],['\n      created, listening to "','" for "start" and\n      "','" for "end"\n    ']),p=a(["\n          hiding; "," is an integer and overlay should not show at this time\n        "],["\n          hiding; "," is an integer and overlay should not show at this time\n        "]),c=a(["\n          hiding; show point (",") is before now (",") and end\n          point (",") is an event\n        "],["\n          hiding; show point (",") is before now (",") and end\n          point (",") is an event\n        "]),v=e("tsmlj"),h=n(v),f="undefined"!=typeof window?window.videojs:void 0!==r?r.videojs:null,y=n(f),g=e("global/window"),m=n(g),_={align:"top-left",class:"",content:"This overlay will show up while the video is playing",debug:!1,showBackground:!0,attachToControlBar:!1,overlays:[{start:"playing",end:"paused"}]},C=y.default.getComponent("Component"),w=y.default.dom||y.default,x=y.default.registerPlugin||y.default.plugin,b=function(e){return"number"==typeof e&&e===e},B=function(e){return"string"==typeof e&&/^\S+$/.test(e)},T=function(e){function t(e,o){var r=this;i(this,t),d(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e,o),["start","end"].forEach(function(e){var t=r.options_[e];if(b(t))r[e+"Event_"]="timeupdate";else if(B(t))r[e+"Event_"]=t;else if("start"===e)throw new Error('invalid "start" option; expected number or string')}),["endListener_","rewindListener_","startListener_"].forEach(function(e){r[e]=function(o){return t.prototype[e].call(r,o)}}),"timeupdate"===this.startEvent_&&this.on(e,"timeupdate",this.rewindListener_),this.debug((0,h.default)(u,this.startEvent_,this.endEvent_||"nothing")),this.hide()}return s(t,e),l(t,[{key:"createEl",value:function(){var e=this.options_,t=e.content,o=e.showBackground?"vjs-overlay-background":"vjs-overlay-no-background",r=w.createEl("div",{className:"\n        vjs-overlay\n        vjs-overlay-"+e.align+"\n        "+e.class+"\n        "+o+"\n        vjs-hidden\n      "});return"string"==typeof t?r.innerHTML=t:t instanceof m.default.DocumentFragment?r.appendChild(t):w.appendContent(r,t),r}},{key:"debug",value:function(){if(this.options_.debug){for(var e=y.default.log,t=e,o=arguments.length,r=Array(o),n=0;n<o;n++)r[n]=arguments[n];e.hasOwnProperty(r[0])&&"function"==typeof e[r[0]]&&(t=e[r.shift()]),t.apply(void 0,["overlay#"+this.id()+": "].concat(r))}}},{key:"hide",value:function(){return d(Object.getPrototypeOf(t.prototype),"hide",this).call(this),this.debug("hidden"),this.debug('bound `startListener_` to "'+this.startEvent_+'"'),this.endEvent_&&(this.debug('unbound `endListener_` from "'+this.endEvent_+'"'),this.off(this.player(),this.endEvent_,this.endListener_)),this.on(this.player(),this.startEvent_,this.startListener_),this}},{key:"shouldHide_",value:function(e,t){var o=this.options_.end;return b(o)?e>=o:o===t}},{key:"show",value:function(){return d(Object.getPrototypeOf(t.prototype),"show",this).call(this),this.off(this.player(),this.startEvent_,this.startListener_),this.debug("shown"),this.debug('unbound `startListener_` from "'+this.startEvent_+'"'),this.endEvent_&&(this.debug('bound `endListener_` to "'+this.endEvent_+'"'),this.on(this.player(),this.endEvent_,this.endListener_)),this}},{key:"shouldShow_",value:function(e,t){var o=this.options_.start,r=this.options_.end;return b(o)?b(r)?e>=o&&e<r:this.hasShownSinceSeek_?Math.floor(e)===o:(this.hasShownSinceSeek_=!0,e>=o):o===t}},{key:"startListener_",value:function(e){var t=this.player().currentTime();this.shouldShow_(t,e.type)&&this.show()}},{key:"endListener_",value:function(e){var t=this.player().currentTime();this.shouldHide_(t,e.type)&&this.hide()}},{key:"rewindListener_",value:function(e){var t=this.player().currentTime(),o=this.previousTime_,r=this.options_.start,n=this.options_.end;t<o&&(this.debug("rewind detected"),b(n)&&!this.shouldShow_(t)?(this.debug((0,h.default)(p,n)),this.hasShownSinceSeek_=!1,this.hide()):B(n)&&t<r&&(this.debug((0,h.default)(c,r,t,n)),this.hasShownSinceSeek_=!1,this.hide())),this.previousTime_=t}}]),t}(C);y.default.registerComponent("Overlay",T);var j=function(e){var t=this,o=y.default.mergeOptions(_,e);Array.isArray(this.overlays_)&&this.overlays_.forEach(function(e){t.removeChild(e),t.controlBar&&t.controlBar.removeChild(e),e.dispose()});var r=o.overlays;delete o.overlays,this.overlays_=r.map(function(e){var r=y.default.mergeOptions(o,e);return r.attachToControlBar&&t.controlBar&&-1!==r.align.indexOf("bottom")?t.controlBar.addChild("overlay",r):t.addChild("overlay",r)})};j.VERSION="1.1.4",x("overlay",j),o.default=j,t.exports=o.default}).call(this,void 0!==n?n:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"global/window":1,tsmlj:2}]},{},[3])(3)}),function(e,t){"use strict";var o=void 0,r={verbose:!1};t.dvrux={};var n=void 0,i=function(e,o){new Date>=o&&(e.one(e,"timeupdate",function(){e.trigger("clearBeforeBookend"),t.dvrux.seekToLive(e),clearInterval(n)}),e.tech_.hls&&e.tech_.hls.playlists&&function(){var o=function o(){e.trigger("clearBeforeBookend"),t.dvrux.seekToLive(e),clearInterval(n),e.tech_.hls.playlists.off("loadedplaylist",o)};e.tech_.hls.playlists.on("loadedplaylist",o)}())},s=function(e,t){var o=null;switch(e.type){case"image":o='<img src="'+e.src+'" width="100%" height="100%" />';break;case"custom":o=e.src;break;default:o=e.src?"<p>"+e.src+"</p>":"<p>"+t+"</p>"}return o};t.dvrux.playerIsLive=function(e){var t=void 0,o=e.seekable();return!!(o&&o.length&&(t=o.end(0),Math.ceil(e.currentTime())>=Math.floor(t)||t===1/0))},t.dvrux.totalWindowTime=function(e){var t=e.seekable();return t&&t.length?t.end(0)-t.start(0):0},o=function(e){var o=t.mergeOptions(r,e),a=this,l=void 0,d=[],u=function(){if(!a.seekable()&&!a.tech_.hls)return-1;if(a.dvrux.controls=t.dvrux.Controls(a,o),o.bookendBefore){var e=o.bookendBefore.class||"";l=new Date(o.bookendBefore.startTime),l>new Date&&(d.push({content:s(o.bookendBefore,"This event starts on "+l),start:"durationchange",end:"play",class:"vjs-livedvr-overlay "+e}),n=setInterval(function(){i(a,l)},5e3))}if(o.bookendAfter){var r="ended",e=o.bookendAfter.class||"";l=new Date(o.bookendAfter.startTime),l<new Date&&(r="durationchange"),d.push({content:s(o.bookendAfter,"This event ended on "+l),start:r,end:"clearAfterBookend",class:e})}d.length>0&&a.overlay({overlays:d})};a.ready(u,!0)},o.log=function(){t.log("dvrux: "+Array.prototype.join.call(arguments," "))},t.dvrux.VERSION="1.3.5",(t.registerPlugin||t.plugin)("dvrux",o)}(window,window.videojs),function(e,t,o){o.dvrux.Controls=function(e){var r=e.el().querySelector(".vjs-tech"),n=t.createElement("div");if(e.controlBar.addClass("vjs-livedvr-control-bar"),/^6/.test(o.VERSION)){var i=e.controlBar.getChild("progressControl"),s=e.controlBar.getChild("liveDisplay");i.dispose(),s.dispose()}e.controlBar.removeChild("progressControl"),e.controlBar.removeChild("liveDisplay");var a=new o.dvrux.LiveButton(e,{name:"LiveButtonDVR"}),l=new o.dvrux.ProgressControl(e,{name:"ProgressControlDVR"}),d=new o.dvrux.SeekBar(e,{name:"SeekBarDVR"}),u=new o.dvrux.LoadProgressBar(e,{name:"LoadProgressBarDVR",parent:l}),p=new o.dvrux.PlayProgressBar(e,{name:"PlayProgressBarDVR",parent:l}),c=new o.dvrux.MouseTimeDisplay(e,{name:"MouseTimeDisplayDVR",parent:l}),v=e.controlBar.getChild("FullscreenToggle"),h=e.controlBar.getChild("RemainingTimeDisplay")||e.controlBar.getChild("DurationDisplay")||e.controlBar.getChild("TimeDivider")||e.controlBar.getChild("CurrentTimeDisplay");d.bar=p,d.addChild(u),d.addChild(p),d.addChild(c),l.addChild(d);var f=e.controlBar.children_.indexOf(v);e.controlBar.addChild(a,o.mergeOptions(a.options_,{name:"LiveButtonDVR"}),f);var y=e.controlBar.children_.indexOf(h);e.controlBar.addChild(l,{},y),e.controlBar.addClass("vjs-live-status-ready"),d.on(e,"timeupdate",d.update),e.tech_.hls&&e.tech_.hls.playlists&&e.tech_.hls.playlists.on("loadedplaylist",d.update),n.className="vjs-dvrux-ad-container",r.parentNode.insertBefore(n,r.nextSibling);var g=o.dvrux.player(n,{contentPlayer:e});return e.on("loadedmetadata",function(){var t=e.controlBar.getChild("LiveButtonDVR");e.duration()!==1/0?(e.controlBar.removeClass("vjs-livedvr-control-bar"),t.hide()):(e.controlBar.addClass("vjs-livedvr-control-bar"),t.show())}),g},o.dvrux.seekToLive=function(e){var t=e.seekable(),o=t&&t.length&&t.end(0);e.duration()===1/0&&o>0&&(e.currentTime(o),e.controlBar.addClass("vjs-live-status-live"),e.controlBar.removeClass("vjs-live-status-ready"),e.controlBar.removeClass("vjs-live-status-dvr"),e.play())},o.dvrux.ControlProxy=o.extend(o.getComponent("Component"),{buffered:function(){return[]},constructor:function(e,t,r){o.getComponent("Component").call(this,this,t,r)},localize:function(){},getChild:function(e){return"textTrackSettings"===e?this.options_.contentPlayer.getChild("textTrackSettings"):this.getChild()}}),o.dvrux.player=function(e,t){var r=new o.dvrux.ControlProxy(e,t),n=t.contentPlayer;return n.one("play",function(){this.one("timeupdate",function(){o.dvrux.seekToLive(n)})}),n.on("play",function(){r.trigger("play"),r.updateLiveStatus()}),n.on("playing",function(){r.trigger("playing"),r.updateLiveStatus()}),n.on("stalled",function(){r.trigger("stalled"),this.one(n,"timeupdate",function(){r.updateLiveStatus()})}),n.on("pause",function(){r.trigger("pause"),n.controlBar.addClass("vjs-live-status-dvr"),n.controlBar.removeClass("vjs-live-status-ready"),n.controlBar.removeClass("vjs-live-status-live")}),r.pause=function(){return r.trigger("pause"),n.pause()},r.paused=function(){return n.paused()},r.play=function(){return r.trigger("play"),n.play()},r.updateLiveStatus=function(){o.dvrux.playerIsLive(n)?(n.controlBar.addClass("vjs-live-status-live"),n.controlBar.removeClass("vjs-live-status-ready"),n.controlBar.removeClass("vjs-live-status-dvr")):(n.controlBar.addClass("vjs-live-status-dvr"),n.controlBar.removeClass("vjs-live-status-ready"),n.controlBar.removeClass("vjs-live-status-live"))},r}}(window,window.document,window.videojs),function(e,t){var o=t.dom||t;t.dvrux.LiveButton=t.extend(t.getComponent("Button"),{constructor:function(e,o){t.getComponent("Button").call(this,e,o)}}),t.dvrux.LiveButton.prototype.handleClick=function(){t.dvrux.seekToLive(this.player_)},t.dvrux.LiveButton.prototype.createEl=function(){var e=t.getComponent("Button").prototype.createEl.call(this,"button",{className:"vjs-live-controls vjs-control"});return this.contentEl_=o.createEl("button",{className:"vjs-live-display",innerHTML:this.localize("LIVE").toLowerCase()+'<span class="vjs-control-text">'+this.localize("Stream Type")+"</span>"},{"aria-live":"off"}),t.IS_ANDROID?e.className+=" vjs-android-live-display":t.IS_EDGE&&(e.className+=" vjs-edge-live-display"),e.appendChild(this.contentEl_),e}}(window,window.videojs),function(e,t){t.dvrux.ProgressControl=t.extend(t.getComponent("Component"),{constructor:function(e,o){t.getComponent("Component").call(this,e,o),(t.IS_ANDROID||t.IS_EDGE)&&this.addClass("vjs-hidden")}}),t.dvrux.ProgressControl.prototype.options_={},t.dvrux.ProgressControl.prototype.createEl=function(){return t.getComponent("Component").prototype.createEl.call(this,"div",{className:"vjs-progress-control vjs-control"})},t.dvrux.ProgressControl.formatBehindLiveTime=function(e,o){var r=o.end(0)-e;return r=r<0||r===1/0?0:r,r=(0===e?"":"-")+t.formatTime(r,o.end(0))},t.dvrux.ProgressControl.getLiveTime=function(e){var o=void 0,r=e.seekable();return r&&r.length?(o=e.scrubbing()?e.getCache().currentTime:e.currentTime(),t.dvrux.ProgressControl.formatBehindLiveTime(o,r)):"-0:00"},t.dvrux.ProgressControl.shouldKeepTooltipsInside=function(e){return e.playerOptions&&e.playerOptions.controlBar&&e.playerOptions.controlBar.progressControl&&e.playerOptions.controlBar.progressControl.keepTooltipsInside}}(window,window.videojs),function(e,t){t.dvrux.SeekBar=t.extend(t.getComponent("SeekBar"),{constructor:function(e,o){var r=this;t.getComponent("SeekBar").call(this,e,o),this.on(e,"timeupdate",this.updateARIAAttributes),this.on(e,"ended",this.updateARIAAttributes),e.tech_.hls&&e.tech_.hls.playlists&&e.tech_.hls.playlists.on("loadedplaylist",function(){return r.updateARIAAttributes}),e.ready(t.bind(this,this.updateARIAAttributes)),t.dvrux.ProgressControl.shouldKeepTooltipsInside(e.options_)&&(this.keepTooltipsInside=e.options_.playerOptions.controlBar.progressControl.keepTooltipsInside,this.tooltipProgressBar=new t.dvrux.TooltipProgressBar(e,{name:"tooltipProgressBarDVR"}))}}),t.dvrux.SeekBar.prototype.options_={barName:"playProgressBarDVR"},t.dvrux.SeekBar.prototype.createEl=function(){return t.getComponent("SeekBar").prototype.createEl.call(this,"div",{className:"vjs-progress-holder"},{"aria-label":"progress bar"})},t.dvrux.SeekBar.prototype.updateARIAAttributes=function(){var e=t.dvrux.ProgressControl.getLiveTime(this.player_);e&&(this.el_.setAttribute("aria-valuenow",Number((100*this.getPercent()).toFixed(2))),this.el_.setAttribute("aria-valuetext",e))},t.dvrux.SeekBar.prototype.getPercent=function(){var e=this.player_.seekable();return e&&e.length&&!t.dvrux.playerIsLive(this.player_)?(this.player_.currentTime()-e.start(0))/t.dvrux.totalWindowTime(this.player_):1},t.dvrux.SeekBar.prototype.handleMouseDown=function(e){t.getComponent("Slider").prototype.handleMouseDown.call(this,e),this.player_.scrubbing(!0),this.player_.addClass("vjs-scrubbing"),this.videoWasPlaying=!this.player_.paused(),this.player_.pause()},t.dvrux.SeekBar.prototype.handleMouseMove=function(e){var o=void 0,r=this.player_.seekable();if(r&&r.length){var n=r.start(0);if((o=n+this.calculateDistance(e)*t.dvrux.totalWindowTime(this.player_))!==1/0){var i=r.end(0);o>=i&&(o=i-1/30),o<=n&&(o=n+1/30),this.player_.currentTime(o)}}},t.dvrux.SeekBar.prototype.handleMouseUp=function(e){t.getComponent("Slider").prototype.handleMouseUp.call(this,e),this.player_.currentTime()<this.player_.seekable().start(0)&&this.player_.currentTime(this.player_.seekable().start(0)+1/30),this.player_.scrubbing(!1),this.player_.removeClass("vjs-scrubbing"),this.videoWasPlaying&&this.player_.play()},t.dvrux.SeekBar.prototype.stepForward=function(){this.player_.currentTime(this.player_.currentTime()+5),t.dvrux.playerIsLive(this.player_)&&(this.player_.controlBar.addClass("vjs-live-status-live"),this.player_.controlBar.removeClass("vjs-live-status-ready"),this.player_.controlBar.removeClass("vjs-live-status-dvr"))},t.dvrux.SeekBar.prototype.stepBack=function(){this.player_.controlBar.removeClass("vjs-live-status-ready"),this.player_.controlBar.removeClass("vjs-live-status-live"),this.player_.controlBar.addClass("vjs-live-status-dvr"),this.player_.currentTime(this.player_.currentTime()-5)}}(window,window.videojs),function(e,t){t.dvrux.PlayProgressBar=t.extend(t.getComponent("Component"),{constructor:function(e,o){t.getComponent("Component").call(this,e,o),this.updateDataAttr(),this.on(e,"timeupdate",this.updateDataAttr),e.ready(t.bind(this,this.updateDataAttr)),t.dvrux.ProgressControl.shouldKeepTooltipsInside(e.options_)&&(this.keepTooltipsInside=e.options_.playerOptions.controlBar.progressControl.keepTooltipsInside,this.addClass("vjs-keep-tooltips-inside"))}}),t.dvrux.PlayProgressBar.prototype.options_={children:[]},t.dvrux.PlayProgressBar.prototype.createEl=function(){return t.getComponent("Component").prototype.createEl.call(this,"div",{className:"vjs-play-progress vjs-slider-bar",innerHTML:'<span class="vjs-control-text"><span>'+this.localize("Progress")+"</span>: 0%</span>"})},t.dvrux.PlayProgressBar.prototype.updateDataAttr=function(){var e=t.dvrux.ProgressControl.getLiveTime(this.player_);e&&this.el_.setAttribute("data-current-time",e)},t.dvrux.PlayProgressBar.prototype.update=function(){}}(window,window.videojs),function(e,t){var o=t.dom||t;t.dvrux.LoadProgressBar=t.extend(t.getComponent("Component"),{constructor:function(e,o){var r=this;t.getComponent("Component").call(this,e,o),this.on(e,"progress",this.update),e.tech_.hls&&e.tech_.hls.playlists&&e.tech_.hls.playlists.on("loadedplaylist",function(){return r.update})}}),t.dvrux.LoadProgressBar.prototype.createEl=function(){return t.getComponent("Component").prototype.createEl.call(this,"div",{className:"vjs-load-progress",innerHTML:'<span class="vjs-control-text"><span>'+this.localize("Loaded")+"</span>: 0%</span>"})},t.dvrux.LoadProgressBar.prototype.update=function(){var e=this.player_.buffered(),r=e.end(0),n=t.dvrux.totalWindowTime(this.player_),i=this.el_.children,s=function(e,t){var o=e/t||0;return(o>=1?100:100*o)+"%"};this.el_.style.width=s(r,n);for(var a=0;a<e.length;a++){var l=e.start(a),d=e.end(a),u=i[a];u||(u=this.el_.appendChild(o.createEl())),u.style.left=s(l,r),u.style.width=s(d-l,r)}for(var a=i.length;a>e.length;a--)this.el_.removeChild(i[a-1])}}(window,window.videojs),function(e,t,o){var r=function(e,t){var o=void 0,r=void 0,n=this,i=0,s=Math.max(0,t||0),a=0,l=0,d=null,u=function(){clearTimeout(d),d=null,i=0},p=function(){u(),a=(new Date).getTime(),r=e.apply(n,o)};return function(){var t=(new Date).getTime();return n=this,o=arguments,i++,d||(a=t),l=s-(t-a),l<=0?(a=t,clearTimeout(d),d=null,r=e.apply(n,o)):!d&&l>0&&(d=setTimeout(p,l)),r}},n=function(o){var r=void 0;if(o.getBoundingClientRect&&o.parentNode&&(r=o.getBoundingClientRect()),!r)return 0;var n=t.documentElement,i=t.body,s=n.clientLeft||i.clientLeft||0,a=e.pageXOffset||i.scrollLeft,l=r.left+a-s;return Math.round(l)},i=function(e,t){var o=void 0,r=e.offsetWidth,i=n(e);return o=t.changedTouches?t.changedTouches[0].pageX:t.pageX,Math.max(0,Math.min(1,(o-i)/r))};o.dvrux.MouseTimeDisplay=o.extend(o.getComponent("MouseTimeDisplay"),{constructor:function(e,t){o.getComponent("Component").call(this,e,t);var n=t.parent;o.dvrux.ProgressControl.shouldKeepTooltipsInside(e.options_)&&(this.keepTooltipsInside=e.options_.playerOptions.controlBar.progressControl.keepTooltipsInside,this.tooltip=o.getComponent("Component").prototype.createEl.call(this,"div",{className:"vjs-time-tooltip"},{"aria-label":"time tooltip"}),this.el_.appendChild(this.tooltip),this.addClass("vjs-keep-toolstips-inside"),(o.IS_TOUCH_ENABLED||o.IS_IPHONE||o.IS_EDGE||o.IS_ANDROID)&&this.addClass("vjs-hide-tooltips")),this.update(),this.on(n.el(),"mousemove",r(o.bind(this,this.handleMouseMove),25)),this.on(n.el(),["touchmove","touchend"],r(o.bind(this,this.handleMouseMove),25))}}),o.dvrux.MouseTimeDisplay.prototype.createEl=function(){return o.getComponent("Component").prototype.createEl.call(this,"div",{className:"vjs-mouse-display"},{"aria-live":"assertive"})},o.dvrux.MouseTimeDisplay.prototype.handleMouseMove=function(e){var t=this.player_.seekable(),r=this.player_.duration()===1/0&&t&&t.length?t.end(0):o.dvrux.totalWindowTime(this.player_),s=i(this.el().parentNode,e)*r,a=e.pageX-n(this.el().parentNode);this.update(s,a)},o.dvrux.MouseTimeDisplay.prototype.update=function(t,r){var i=void 0,s=this.player_.seekable();i=t?this.player_.duration()!==1/0?o.formatTime(t,t):o.dvrux.ProgressControl.formatBehindLiveTime(t,s):s&&s.length?o.dvrux.ProgressControl.getLiveTime(this.player_):o.formatTime(0,o.dvrux.totalWindowTime(this.player_));var a=void 0,l=this.player_.controlBar;if(a=r||n(l)+l.currentWidth(),this.el().style.left=a+"px",this.el().setAttribute("data-current-time",i),this.getChild("timeTooltip")&&(this.getChild("timeTooltip").el().innerHTML=i),this.keepTooltipsInside){var d=parseFloat(e.getComputedStyle(this.tooltip).width)||0,u=d/2,p=this.clampPosition_(a,u),c=a-p+1,v=u-c;this.tooltip.innerHTML=i,this.tooltip.style.right="-"+v+"px"}},o.dvrux.MouseTimeDisplay.prototype.clampPosition_=function(t,o){if(!this.keepTooltipsInside)return t;var r=parseFloat(e.getComputedStyle(this.player_.el()).width),n=t;return t<o?n=Math.ceil(o):t>r-o&&(n=Math.floor(r-o)),n}}(window,window.document,window.videojs),function(e,t){t.dvrux.TooltipProgressBar=t.extend(t.getComponent("Component"),{constructor:function(e,o){var r=this;t.getComponent("Component").call(this,e,o),this.on(e,"timeupdate",this.updateDataAttr),e.tech_.hls&&e.tech_.hls.playlists&&e.tech_.hls.playlists.on("loadedplaylist",function(){return r.updateDataAttr}),e.ready(t.bind(this,this.updateDataAttr))}}),t.dvrux.TooltipProgressBar.prototype.createEl=function(){var e=t.getComponent("Component").prototype.createEl.call(this,"div",{className:"vjs-tooltip-progress-bar vjs-slider-bar",innerHTML:'<div class="vjs-time-tooltip"></div><span class="vjs-control-text"><span>'+this.localize("Progress")+"</span>: 0%</span>"});return this.tooltip=e.querySelector(".vjs-time-tooltip"),e},t.dvrux.TooltipProgressBar.prototype.updateDataAttr=function(){var e=t.dvrux.ProgressControl.getLiveTime(this.player_);e&&(this.el_.setAttribute("data-current-time",e),this.tooltip.innerHTML=e)}}(window,window.videojs)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}]},{},[1])(1)});